<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~ Copyright Â© 2017 Frinx and others. All rights reserved.
  ~
  ~ This program and the accompanying materials are made available under the
  ~ terms of the Eclipse Public License v1.0 which accompanies this distribution,
  ~ and is available at http://www.eclipse.org/legal/epl-v10.html
  -->

<!-- vi: set et smarttab sw=4 tabstop=4: -->

<features name="odl-unified-topology-${project.version}" xmlns="http://karaf.apache.org/xmlns/features/v1.2.0"
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="http://karaf.apache.org/xmlns/features/v1.2.0 http://karaf.apache.org/xmlns/features/v1.2.0">
    <repository>mvn:org.opendaylight.yangtools/features-yangtools/{{VERSION}}/xml/features</repository>
    <repository>mvn:org.opendaylight.controller/features-mdsal/{{VERSION}}/xml/features</repository>
    <repository>mvn:org.opendaylight.mdsal.model/features-mdsal-model/{{VERSION}}/xml/features</repository>
    <repository>mvn:io.frinx.openconfig/openconfig-features/{{VERSION}}/xml/features</repository>
    <repository>mvn:io.frinx.unitopo/unified-topology-features/{{VERSION}}/xml/features</repository>

    <feature name='unified-topology-unit-base' version='${project.version}'>
        <feature version='${unitopo.version}'>unified-topology</feature>
        <bundle>wrap:mvn:io.fd.honeycomb/translate-spi/${hc.version}</bundle>
        <bundle>mvn:org.jgrapht/jgrapht-core/{{VERSION}}</bundle>
        <bundle>wrap:mvn:io.fd.honeycomb/translate-utils/${hc.version}</bundle>
        <bundle>wrap:mvn:io.fd.honeycomb/translate-impl/${hc.version}</bundle>
    </feature>

    <feature name='unified-topology-unit-xr-6' version='${project.version}'>
        <feature version='${unitopo.version}'>unified-topology</feature>
        <bundle>mvn:org.jetbrains.kotlin/kotlin-osgi-bundle/{{VERSION}}</bundle>
        <bundle>mvn:commons-net/commons-net/{{VERSION}}</bundle>
        <bundle>mvn:io.frinx.unitopo/xr-6-interface-unit/{{VERSION}}</bundle>
        <bundle>mvn:io.frinx.unitopo/xr-6-ip6-unit/{{VERSION}}</bundle>
        <bundle>mvn:io.frinx.unitopo/network-instance-unit/{{VERSION}}</bundle>
        <bundle>mvn:io.frinx.unitopo/xr-6-network-instance-unit/{{VERSION}}</bundle>
        <bundle>mvn:io.frinx.unitopo/xr-6-bgp-unit/{{VERSION}}</bundle>
        <bundle>mvn:io.frinx.unitopo/xr-6-ospf-unit/{{VERSION}}</bundle>
        <bundle>mvn:io.frinx.unitopo/xr-6-lr-unit/{{VERSION}}</bundle>
        <bundle>mvn:io.frinx.unitopo/xr-6-platform-unit/{{VERSION}}</bundle>
        <bundle>mvn:io.frinx.unitopo/xr-6-cdp-unit/{{VERSION}}</bundle>
        <bundle>mvn:io.frinx.unitopo/xr-6-lldp-unit/{{VERSION}}</bundle>
    </feature>

    <feature name='unified-topology-all-units' version='${project.version}'>
        <feature version='${project.version}'>unified-topology-unit-base</feature>
        <feature version='${project.version}'>unified-topology-unit-xr-6</feature>
        <feature version='${project.version}'>unified-topology-unit-junos-17-3</feature>
    </feature>

    <feature name='unified-topology-unit-junos-17-3' version='${project.version}'>
        <feature version='${unitopo.version}'>unified-topology</feature>
        <bundle>mvn:org.jetbrains.kotlin/kotlin-osgi-bundle/{{VERSION}}</bundle>
        <bundle>mvn:commons-net/commons-net/{{VERSION}}</bundle>
        <bundle>mvn:io.frinx.unitopo/utils-unit/{{VERSION}}</bundle>
        <bundle>mvn:io.frinx.unitopo/network-instance-unit/{{VERSION}}</bundle>
        <bundle>mvn:io.frinx.unitopo/utils-unit/{{VERSION}}</bundle>
        <bundle>mvn:io.frinx.unitopo/junos-17-models/{{VERSION}}</bundle>
        <bundle>mvn:io.frinx.unitopo/junos-17-network-instance-unit/{{VERSION}}</bundle>
        <bundle>mvn:io.frinx.unitopo/junos-17-mpls-unit/{{VERSION}}</bundle>
        <bundle>mvn:io.frinx.unitopo/junos-17-interface-unit/{{VERSION}}</bundle>
        <bundle>mvn:io.frinx.unitopo/junos-17-snmp-unit/{{VERSION}}</bundle>
        <bundle>mvn:io.frinx.unitopo/junos-17-acl-unit/{{VERSION}}</bundle>
    </feature>

</features>
